{% extends 'layout.html' %}

{% block head %}
    <title>History</title>
{% endblock %}

{% block body %}
    <h2>{{ user.name }}'s Purchase History</h2>
    <br>
    <a href="/home"><input type="button" value="Return Home"></a>
    <a href="/profile"><input type="button" value="Profile"></a>
    <a href="/favourites"><input type="button" value="Favourites"></a>
    <a href="/tokens"><input type="button" value="Tokens"></a>
    <a href="/logout"><input type="button" value="Logout"></a>
    <br>
    <h3><strong>History</strong></h3>
    <br>
    <table class="table table-hover" id="HistoryTable">
        <tr>
            <th scope="col">Product</th>
            <th scope="col">Quantity</th>
            <th scope="col">Cost (Token)</th>
            <th scope="col">DateTime</th>
        </tr>
    </table>
    <script>
        var j=1;
        var hist ="{{purHist}}".split(",");
        var table = document.getElementById("HistoryTable");
        for(var i=0; i < hist.length; i+=4){
            var row = table.insertRow(j);
            var cell1 = row.insertCell(0);
            var cell2 = row.insertCell(1);
            var cell3 = row.insertCell(2);
            var cell4 = row.insertCell(3);
            cell1.innerHTML = hist[i];
            cell2.innerHTML = hist[i+1];
            cell3.innerHTML = hist[i+2];
            cell4.innerHTML = hist[i+3];
            j++;
        }
    </script>

{% endblock %}